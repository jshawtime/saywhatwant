# Say What Want - Main Site Configuration
name = "say-what-want"
main = "workers/site-worker.js"
compatibility_date = "2024-01-01"

# Static site configuration
[site]
bucket = "./out"

# KV Namespace binding (shared with comments worker)
[[kv_namespaces]]
binding = "COMMENTS_KV"
id = "ddf6162d4c874d52bb6e41d1c3889a0f" # Same ID as in workers/wrangler.toml

# Environment variables
[vars]
COMMENTS_WORKER_URL = "https://sww-comments.workers.dev"
R2_BUCKET_URL = "https://YOUR-R2-BUCKET.r2.dev"

# Routes (custom domains)
routes = [
  { pattern = "saywhatwant.app/*", zone_name = "saywhatwant.app" },
  { pattern = "www.saywhatwant.app/*", zone_name = "saywhatwant.app" }
]

# Development configuration
[env.development]
name = "say-what-want-dev"
vars = { COMMENTS_WORKER_URL = "http://localhost:8787", R2_BUCKET_URL = "http://localhost:8788" }

# Production configuration  
[env.production]
name = "say-what-want"
